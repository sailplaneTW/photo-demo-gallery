<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta content="charset=utf-8">
    <title>[Photo Demo]</title>
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">

  <!-- Demo CSS -->
    <link rel="stylesheet" href="css/demo.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../flexslider.css" type="text/css" media="screen" />
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon-6/favicon.ico"/>

  <!-- Quick Selection Table CSS -->
    <link rel="stylesheet" href="css/quick_select_table.css" type="text/css" media="screen" />

    <!-- Modernizr -->
  <script src="js/modernizr.js"></script>

</head>
<body class="loading">

  <div id="container" class="cf">
    <header role="navigation">
      <center><img id='logo_img' name='logo_img' src="images/tuesday.png" alt="(^__^)" height='100' width='250'/></center>
	  <br/>
      <center>
      <h1>(sailplaneTW's photo)</h1>
      <h2 id='showing_image_name' name='showing_image_name'></h2>

      <!-- Quick Selection Table -->
      <div class="CSSTableGenerator" >
      <table id='quick_selection_table' name='quick_selection_table' role='quick_selection_table'>
        <tr>
            <td colspan='4'>快速選單</td>
        </tr>
        <tr>
            <td id='qtd0' name='qtd0'><img src='images/smile.png'></img></td>
            <td id='qtd1' name='qtd1'><img src='images/smile.png'></img></td>
            <td id='qtd2' name='qtd2'><img src='images/smile.png'></img></td>
            <td id='qtd3' name='qtd3'><img src='images/smile.png'></img></td>
        </tr>
        <tr>
            <td id='qtd4' name='qtd4'><img src='images/smile.png'></img></td>
            <td id='qtd5' name='qtd5'><img src='images/smile.png'></img></td>
            <td id='qtd6' name='qtd6'><img src='images/smile.png'></img></td>
            <td id='qtd7' name='qtd7'><img src='images/smile.png'></img></td>
        </tr>
        <tr>
            <td id='qtd8' name='qtd8'><img src='images/smile.png'></img></td>
            <td id='qtd9' name='qtd9'><img src='images/smile.png'></img></td>
            <td id='qtd10' name='qtd10'><img src='images/smile.png'></img></td>
            <td id='qtd11' name='qtd11'><img src='images/smile.png'></img></td>
        </tr>
        <tr>
            <td id='qtd12' name='qtd12'><img src='images/smile.png'></img></td>
            <td id='qtd13' name='qtd13'><img src='images/smile.png'></img></td>
            <td id='qtd14' name='qtd14'><img src='images/smile.png'></img></td>
            <td id='qtd15' name='qtd15'><img src='images/smile.png'></img></td>
        </tr>
      </table>
      </div>
      <br/>
      <br/>

	  <img id='ok_selection' name='ok_selection' src='images/ok-trans.png' width='100'>&nbsp;&nbsp;&nbsp;&nbsp;<img id='no_selection' name='no_selection' src='images/no-trans.png' width='100'>

      </center>
    </header>

    <div id="main" role="main">
      <section class="slider">
        <div id="slider" class="flexslider">
          <ul class="slides">
          <li><img src="images/kitchen_adventurer_cheesecake_brownie.jpg" id='img0' name='img0' alt='kitchen_adventurer_cheesecake_brownie' /></li>
          <li><img src="images/kitchen_adventurer_lemon.jpg" id='img1' name='img1'  alt='kitchen_adventurer_lemon' /></li>
          <li><img src="images/kitchen_adventurer_donut.jpg" id='img2' name='img2' alt='kitchen_adventurer_donut' /></li>
          <li><img src="images/kitchen_adventurer_caramel.jpg" id='img3' name='img3' alt='kitchen_adventurer_caramel' /></li>
          <li><img src="images/kitchen_adventurer_cheesecake_brownie.jpg" id='img4' name='img4' alt='kitchen_adventurer_cheesecake_brownie' /></li>
          <li><img src="images/kitchen_adventurer_lemon.jpg" id='img5' name='img5' alt='kitchen_adventurer_lemon' /></li>
          <li><img src="images/kitchen_adventurer_donut.jpg" id='img6' name='img6' alt='kitchen_adventurer_donut' /></li>
          <li><img src="images/kitchen_adventurer_caramel.jpg" id='img7' name='img7' alt='kitchen_adventurer_caramel' /></li>
          <li><img src="images/kitchen_adventurer_cheesecake_brownie.jpg" id='img8' name='img8' alt='kitchen_adventurer_cheesecake_brownie' /></li>
          <li><img src="images/kitchen_adventurer_lemon.jpg" id='img9' name='img9' alt='kitchen_adventurer_lemon' /></li>
          <li><img src="images/kitchen_adventurer_donut.jpg" id='img10' name='img10' alt='kitchen_adventurer_donut' /></li>
          <li><img src="images/kitchen_adventurer_caramel.jpg" id='img11' name='img11' alt='kitchen_adventurer_caramel' /></li>
          <!--
          <li><img src="../photo/germany_1001.jpg" id='img12' name='img12' alt='germany_1001' /></li>
          <li><img src="../photo/green_meadow_2-HD.jpg" id='img13' name='img13' alt='green_meadow_2-HD' /></li>
          <li><img src="../photo/IMAG0063_1.jpg" id='img14' name='img14' alt='IMAG0063_1' /></li>
          -->
          </ul>
        </div>
        <div id="carousel" class="flexslider">
          <ul class="slides">
          <li><img src="images/kitchen_adventurer_cheesecake_brownie.jpg" /></li>
          <li><img src="images/kitchen_adventurer_lemon.jpg" /></li>
          <li><img src="images/kitchen_adventurer_donut.jpg" /></li>
          <li><img src="images/kitchen_adventurer_caramel.jpg" /></li>
          <li><img src="images/kitchen_adventurer_cheesecake_brownie.jpg" /></li>
          <li><img src="images/kitchen_adventurer_lemon.jpg" /></li>
          <li><img src="images/kitchen_adventurer_donut.jpg" /></li>
          <li><img src="images/kitchen_adventurer_caramel.jpg" /></li>
          <li><img src="images/kitchen_adventurer_cheesecake_brownie.jpg" /></li>
          <li><img src="images/kitchen_adventurer_lemon.jpg" /></li>
          <li><img src="images/kitchen_adventurer_donut.jpg" /></li>
          <li><img src="images/kitchen_adventurer_caramel.jpg" /></li>
          <!--
          <li><img src="../photo/germany_1001.jpg" /></li>
          <li><img src="../photo/green_meadow_2-HD.jpg" /></li>
          <li><img src="../photo/IMAG0063_1.jpg" /></li>
          -->
          </ul>
        </div>
      </section>
      <aside>
      </aside>
    </div>

  </div>

  <!-- save data in page -->
  <p id='current_img_id' name='current_img_id' style='visibility: hidden;'>0</p>
  <p id='ok_list' name='ok_list' style='visibility: hidden;'></p>

  <!-- jQuery -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.min.js">\x3C/script>')</script>

  <!-- FlexSlider -->
  <script defer src="../jquery.flexslider.js"></script>

  <script type="text/javascript">
    $(function(){
      SyntaxHighlighter.all();
    });
    $(window).load(function(){
      $('#carousel').flexslider({
        animation: "slide",
        controlNav: false,
        animationLoop: false,
        slideshow: false,
        itemWidth: 210,
        itemMargin: 5,
        asNavFor: '#slider'
      });

      $('#slider').flexslider({
        animation: "slide",
        controlNav: false,
        animationLoop: false,
        slideshow: false,
        sync: "#carousel",
        start: function(slider){
          $('body').removeClass('loading');
        },
        after: function(slider) {
            $('#showing_image_name').text( $('#img'+slider.currentSlide).attr('alt') );
            for(var i=0; i<=16 ; i++) {
                $('#qtd'+i).css('background-color', '#aad4ff');
            }
            $('#qtd'+slider.currentSlide).css('background-color', '#FFFFBB');
            $('#current_img_id').text(slider.currentSlide);

            var ok_list_array = ($('#ok_list').text()).split(',');
            if(ok_list_array.indexOf($('#current_img_id').text()) > -1) {
                $('#ok_selection').css('opacity', '1');
                $('#ok_selection').css('filter', 'alpha(opacity=100)');
                $('#no_selection').css('opacity', '0.3');
                $('#no_selection').css('filter', 'alpha(opacity=30)');
            }
            else {
                $('#no_selection').css('opacity', '1');
                $('#no_selection').css('filter', 'alpha(opacity=100)');
                $('#ok_selection').css('opacity', '1');
                $('#ok_selection').css('filter', 'alpha(opacity=100)');
            }
        }
      });

      $('#showing_image_name').text( $('#img0').attr('alt') );
      $('#qtd0').css('background-color', '#FFFFBB');
      $('#current_img_id').text('0');

      $("#quick_selection_table td").click(function() {
          var column_num = parseInt( $(this).index() ) + 1;
          var row_num = parseInt( $(this).parent().index() )+1;
          if(1<=parseInt(column_num) && parseInt(column_num)<=4 && 2<=parseInt(row_num) && parseInt(row_num)<=5) {
              var current_td_id = (row_num-2)*4 + (column_num-1);
              $('#slider').flexslider(current_td_id);
          }
        });

      function sort_unique(arr) {
          arr = arr.sort(function (a, b) { return a*1 - b*1; });
          var ret = [arr[0]];
          for (var i = 1; i < arr.length; i++) { // start loop at 1 as element 0 can never be a duplicate
              if (arr[i-1] !== arr[i]) {
                  ret.push(arr[i]);
              }
          }
          return ret;
      }

      $("#ok_selection").click(function(){
          var ok_list_array = ($('#ok_list').text()).split(',');
          if(ok_list_array.indexOf($('#current_img_id').text()) == -1) {
            ok_list_array.push(parseInt($('#current_img_id').text()));
            ok_list_array = sort_unique(ok_list_array);
            $('#ok_list').text(ok_list_array.toString());

            $('#ok_selection').css('opacity', '1');
            $('#ok_selection').css('filter', 'alpha(opacity=100)');
            $('#no_selection').css('opacity', '0.3');
            $('#no_selection').css('filter', 'alpha(opacity=30)');
          }
      });
      $("#no_selection").click(function(){
          var ok_list_array = ($('#ok_list').text()).split(',');
          if(ok_list_array.indexOf($('#current_img_id').text()) > -1) {
            ok_list_array.splice(ok_list_array.indexOf($('#current_img_id').text()), 1);
            ok_list_array = sort_unique(ok_list_array);
            $('#ok_list').text(ok_list_array.toString());

            $('#no_selection').css('opacity', '1');
            $('#no_selection').css('filter', 'alpha(opacity=100)');
            $('#ok_selection').css('opacity', '1');
            $('#ok_selection').css('filter', 'alpha(opacity=100)');
          }
      });
    });
  </script>


  <!-- Syntax Highlighter -->
  <script type="text/javascript" src="js/shCore.js"></script>
  <script type="text/javascript" src="js/shBrushXml.js"></script>
  <script type="text/javascript" src="js/shBrushJScript.js"></script>

  <!-- Optional FlexSlider Additions -->
  <script src="js/jquery.easing.js"></script>
  <script src="js/jquery.mousewheel.js"></script>
  <script defer src="js/demo.js"></script>

</body>
</html>
